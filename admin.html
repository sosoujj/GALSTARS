<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración 🔑</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <div id="admin-content">
        <h1>🔑 Panel de Administración de Reservas</h1>
        
        <h2>Turnos Pendientes de Aprobación</h2>
        <div id="reservas-pendientes">
            </div>
        
        <hr/>
        
        <h2>Turnos Confirmados</h2>
        <table id="reservas-confirmadas">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Contacto</th>
                    <th>Fecha/Hora</th>
                    <th>Estado</th>
                </tr>
            </thead>
            <tbody>
                </tbody>
        </table>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script>
        // TU CONFIGURACIÓN DE FIREBASE (¡AJUSTA ESTO!)
        const firebaseConfig = {
            apiKey: "AIzaSyCNQm2jgb54xKYYHk64bXO648NdWm1MZTY",
            authDomain: "galstars-b9eed.firebaseapp.com",
            projectId: "galstars-b9eed",
            storageBucket: "galstars-b9eed.firebasestorage.app",
            messagingSenderId: "711879283881",
            appId: "1:711879283881:web:7dfcf4cdf3feb9468505b8",
            measurementId: "G-0Q4XKYWKTQ" 
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>

    <script src="script.js"></script>
    <script>
        // Lógica de Autenticación Inmediata y Carga del Panel
        const CORRECT_PASSWORD = '1234'; // ¡CAMBIA ESTA CONTRASEÑA!

        function authenticate() {
            let password = '';
            
            while (password !== CORRECT_PASSWORD) {
                // Solicita la contraseña
                password = prompt("🔐 INGRESA LA CONTRASEÑA DE ADMINISTRADOR:");

                // Si cancela (password es null) o es incorrecta
                if (password === null || password !== CORRECT_PASSWORD) {
                    alert("Contraseña incorrecta o acceso cancelado.");
                    // Bloquea el contenido
                    document.body.innerHTML = '<h1>Acceso Denegado</h1><p>Contraseña incorrecta. Cierra esta ventana y vuelve a intentarlo.</p>';
                    return false;
                }
            }
            return true;
        }

        document.addEventListener('DOMContentLoaded', () => {
            if (authenticate()) {
                // Solo si la autenticación es exitosa, cargamos el panel.
                cargarPanelAdmin();
            }
        });
    </script>
</body>
</html>
